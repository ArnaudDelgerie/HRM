{% extends 'base.html.twig' %}

{% block title %}{{ 'user.update.browser.title'|trans }}{% endblock %}

{% block body %}
<div class="container-sm mt-5">
    <div class="row col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xs-12">
        <h1 class="fs-3 text">{{ 'user.update.page.title'|trans }}</h1>
        {{ form_start(form, {'attr': {'class': 'mt-3'}})}}
            <div class="mb-3">
                {{ form_label(form.email, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                {% if form.email.vars.errors|length > 0 %}
                <p class="text-danger">{{ form.email.vars.errors[0].message }}</p>
                {% endif %}
            </div>
            <div class="mb-3">
                {{ form_label(form.username, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
                {% if form.username.vars.errors|length > 0 %}
                <p class="text-danger">{{ form.username.vars.errors[0].message }}</p>
                {% endif %}
            </div>
            <div class="mb-3">
                {{ form_label(form.firstname, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.firstname, {'attr': {'class': 'form-control'}}) }}
                {% if form.firstname.vars.errors|length > 0 %}
                <p class="text-danger">{{ form.firstname.vars.errors[0].message }}</p>
                {% endif %}
            </div>
            <div class="mb-3">
                {{ form_label(form.lastname, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.lastname, {'attr': {'class': 'form-control'}}) }}
                {% if form.lastname.vars.errors|length > 0 %}
                <p class="text-danger">{{ form.lastname.vars.errors[0].message }}</p>
                {% endif %}
            </div>
            {% if form.roles is defined %}
            <div class="mb-3">
                {{ form_label(form.roles, null, {'label_attr': {'class': 'form-label'}}) }}
                <i
                    type="button"
                    data-bs-html="true"
                    data-bs-container="body"
                    data-bs-toggle="popover"
                    data-bs-placement="right"
                    class="fa-solid fa-circle-question ms-2"
                    data-bs-content="{{ 'user.form.roles.help'|trans }}"
                ></i>
                <div>
                    {% for input in form.roles.children %}
                    <div class="form-check form-switch">
                        {{ form_label(input, null, {'label_attr': {'class': 'form-check-label'}}) }}
                        {{ form_widget(input, {'attr': {'class': 'form-check-input'}}) }}
                    </div>
                    {% endfor %}
                </div>
                {% if form.roles.vars.errors|length > 0 %}
                <p class="text-danger">{{ form.roles.vars.errors[0].message }}</p>
                {% endif %}
            </div>
            {% endif %}
            <div class="text-center mt-4">
                <a class="btn btn-secondary px-4 px-xs-5 mx-1" href="{{ path('app_user_show_leave', {'user': user.id}) }}">{{ 'user.form.cancel.label'|trans }}</a>
                {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary px-4 px-xs-5 mx-1'}}) }}
            </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
